syntax = "proto3";

package user;

option go_package = "./proto/user";

// 用户信息请求
message GetUserInfoRequest {
  string uuid = 1; // 用户唯一标识
}

// 用户信息响应
message GetUserInfoResponse {
  string uuid = 1;
  string nickname = 2;
  string telephone = 3;
  string avatar = 4;
  string email = 5;
  int32 gender = 6; // 0:男, 1:女
  string birthday = 7;
  string signature = 8;
  string created_at = 9;
  int32 is_admin = 10; // 0:非管理员, 1:管理员
  int32 status = 11; // 0:正常, 1:禁用
  string message = 12; // 响应信息
  int32 code = 13; // 状态码(1:成功, -1:系统错误, 0:业务错误)
}


// 2. 查询好友关系请求
message GetUserContactRequest {
  string user_id = 1;      // 当前用户UUID（如发送者sendId）
  string contact_id = 2;   // 联系人UUID（如接收者receiveId）
}
// 好友关系信息
message FriendContact {
  string user_id = 1;      // 当前用户UUID
  string contact_id = 2;   // 联系人UUID
  int32 contact_type = 3;  // 联系类型(0:用户, 1:群聊)
  int32 status = 4;        // 好友状态(0:正常, 1:拉黑, 2:被拉黑, 3:删除好友...)
}
// 查询好友关系响应
message GetUserContactResponse {
  int32 code = 1;              // 状态码(0:无好友关系, 1:有好友关系, -1:系统错误)
  string message = 2;          // 响应信息
  FriendContact contact = 3; // 好友关系信息（code=1时返回）
}

// 用户服务
service UserService {
  // 获取用户信息
  rpc GetUserInfo(GetUserInfoRequest) returns (GetUserInfoResponse);
  rpc GetUserContact(GetUserContactRequest) returns (GetUserContactResponse); // 查询好友关系
}